<?xml version="1.0"?>
<openerp>
<data>

<record id="fleet_step_form" model="ir.ui.view">
<field name="name">fleet.vehicle.step</field>
<field name="model">fleet.vehicle</field>
<field name="arch" type="xml">
<form string="Product Configurator">
    <header>
        <field name="state"  widget="statusbar" clickable="True" />
    </header>
    <sheet>
        <field name="image_medium" widget='image' class="oe_left oe_avatar"/>
        <div class="oe_title" >
            <label for="model_id" class="oe_edit_only"/>
            <h1>
                <field name="model_id" class="oe_inline" on_change="on_change_model(model_id)" attrs="{'readonly': [('state', '!=', 'first')]}"/>
            </h1>
            <label for="license_plate" class="oe_edit_only" attrs="{'readonly': [('state', '!=', 'first')]}"/>
            <h2>
                <field name="license_plate" class="oe_inline" attrs="{'readonly': [('state', '!=', 'first')]}"/>
            </h2>
            <label for="vin_sn" class="oe_edit_only">
                <attribute name="string" >Serial Number</attribute>
            </label>
            <h2>
                <field name="vin_sn" attrs="{'readonly': [('state', '!=', 'first')]}" position="attributes" />
            </h2>
        </div>
        <div attrs="{'invisible':[('state','!=','first')]}">
            <group>
                <field name="driver_id"/>
                <field name="ownership" />
            </group>
            <label for="tag_ids" class="oe_edit_only"/>
            <field name="tag_ids" widget="many2many_tags"/>
        </div>
        <div attrs="{'invisible':[('state','!=','step2')]}">
            <group>
            <field name="retailer_id" />
                <!--<field name="actualVendor_id" domain="[('parent_id','=', retailer_id), ('is_fleet_active','=', True)]"/>-->
                <field name="actualVendor_id" domain="[('parent_id','=', retailer_id)"/>
                <field name="firstVendor_id" domain="[('parent_id','=', retailer_id)]"/>
                <field name="car_value" />
                <field name="acquisition_date" />
                <field name="registration_date" />
                <field name="original_date" />
                <field name="extended_warranty" />
                <field name="replacement_warranty" />
                <field name="extended_warranty_expiration" />
            </group>
        </div>
    </sheet>
    <footer>
        <button type="object" name="action_previous_step" attrs="{'invisible': [('state','=','first')]}" string="Back" special="no_save"/>
        <button type="object" name="action_next_step" attrs="{'invisible': [('state','=','last')]}" class="oe_highlight" string="Next"/>
    </footer>
</form>
</field>
</record>

<record id='fleet_vehicle_step_act' model='ir.actions.act_window'>
    <field name="name">Vehicles step wizard</field>
    <field name="res_model">fleet.vehicle</field>
    <field name="view_type">form</field>
    <field name="view_mode">form</field>
    <field name="view_id" ref="fleet_step_form"/>
</record>

</data>
</openerp>
